var getRandomValues,vidjetDisplayLaunchPopup=e=>{{const t=`\n    <div class="vidjet-preview-launch-popup">\n      <div class="vidjet-preview-launch-text">\n        <h1>Your video popup looks stunning!</h1>\n      </div>\n      <a id="vidjet-launch-campaign-button-popup" class="vidjet-preview-launch-button vidjet-link" target="_blank" href="https://app.vidjet.io/launch-campaign/${e}">Back to Vidjet</a>\n    </div>\n  `,i="\n    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');\n    .vidjet-preview-launch-popup {\n      font-family: 'Montserrat', sans-serif;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      background-color: white;\n      position: fixed;\n      left: 0;\n      top: 0;\n      margin: 10px;\n      z-index: 9999999999999;\n      box-shadow: 1px 1px 20px rgba(0, 0, 0, 0.12);\n      border-radius: 10px;\n      text-align: center;\n      padding: 30px 90px;\n      max-width: 500px;\n    }\n\n    .vidjet-wrapper {\n      width: 100%;\n    }\n\n\n    .vidjet-preview-launch-text {\n\n    }\n\n    .vidjet-preview-launch-text h1 {\n      font: inherit;\n      font-weight: 600;\n      font-size: 20px !important;\n      line-height: 24px;\n      color: #585858;\n    }\n    .vidjet-preview-launch-text h1 strong {\n      font-weight: 800;\n    }\n\n    .vidjet-preview-launch-button {\n      color: #585858;\n      font-weight: 500;\n      font-size: 14px;\n      line-height: 17px;\n      padding: 10px 20px;\n      background: white;\n      box-shadow: 2px 2px 15px rgba(141, 22, 193, 0.25);\n      border-radius: 20px;\n      border: none;\n      cursor: pointer;\n      text-decoration: none;\n    }\n\n    .vidjet-preview-launch-button:hover {\n      background: #FAE8FF;\n    }\n  ",n=document.createElement("style");n.innerHTML=i,document.body.appendChild(n);const o=document.createElement("div");o.classList.add("vidjet-wrapper"),o.innerHTML=t,document.body.appendChild(o);document.getElementById("vidjet-launch-campaign-button-popup").addEventListener("click",(()=>{_deleteCookie("vidjet-preview"),_deleteCookie("vidjet-campaignId")}))}},rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(e){return"string"==typeof e&&REGEX.test(e)}function stringify(e){var t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).substr(1));var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(t[e[i+0]]+t[e[i+1]]+t[e[i+2]]+t[e[i+3]]+"-"+t[e[i+4]]+t[e[i+5]]+"-"+t[e[i+6]]+t[e[i+7]]+"-"+t[e[i+8]]+t[e[i+9]]+"-"+t[e[i+10]]+t[e[i+11]]+t[e[i+12]]+t[e[i+13]]+t[e[i+14]]+t[e[i+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}var Vidjet=function(){var e,t,i,n=/(tablet|ipad|playbook|silk|kindle)/i.test(navigator.userAgent)||/(android(?!.*mobi))|Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|(hpw|web)OS|Opera M(obi|ini)/i.test(navigator.userAgent),o={campaignsActivated:JSON.parse("[]"),campaignsPaused:JSON.parse('[{"_id":"c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0","campaignType":2,"formats":[{"deviceType":1,"formatType":1,"position":0,"openByDefault":true,"title":"Bienvenu ⚽️ 👋"},{"deviceType":0,"formatType":1,"position":0,"openByDefault":true,"title":"Bienvenu ⚽️ 👋"}],"segmentation":{"trigger":{"type":3,"option":5},"viewRestriction":{"maxView":1,"notShownTime":72}},"siteId":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d","video":{"type":1,"url":"https://video.vidjet.io/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4-compressed.mp4","s3Path":"s3://video-compression-pipeline-source-czz220hqvww8/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","key":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","fileName":"kevin___ecn__encoded_.mp4","height":1280,"width":720,"videoDuration":26.6,"sizeInMB":6,"streamingUrl":null},"order":1,"stateFlag":0,"startDate":"2021-08-10T08:17:47.001Z","name":"Bienvenu - Ouvert","creationDate":"2021-08-10T08:17:48.081Z","modificationDate":"2022-11-28T10:30:38.341Z","videos":[{"videoId":"3108d1d2-0654-4630-a106-f51578df6d40","_id":"3108d1d2-0654-4630-a106-f51578df6d40","type":1,"url":"https://video.vidjet.io/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4-compressed.mp4","s3Path":"s3://video-compression-pipeline-source-czz220hqvww8/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","key":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","fileName":"kevin___ecn__encoded_.mp4","height":1280,"width":720,"videoDuration":26.6,"sizeInMB":6,"streamingUrl":"https://video.vidjet.io/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4.m3u8","siteId":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d","creationDate":"2022-11-28T10:30:38.282Z","modificationDate":"2022-12-06T16:15:32.894Z"}]},{"_id":"6f9e83ce-36f8-4a75-8f8a-6e34d572c1ae","campaignType":2,"formats":[{"deviceType":1,"formatType":1,"position":0,"openByDefault":false,"title":"Bienvenu ⚽️ 👋"},{"deviceType":0,"formatType":1,"position":0,"openByDefault":false,"title":"Bienvenu ⚽️ 👋"}],"segmentation":{"trigger":{"type":0,"option":5},"viewRestriction":{"maxView":99,"notShownTime":1}},"siteId":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d","video":{"type":1,"url":"https://video-compression-pipeline-source-czz220hqvww8.s3-eu-west-1.amazonaws.com/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","s3Path":"s3://video-compression-pipeline-source-czz220hqvww8/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","key":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","fileName":"kevin___ecn__encoded_.mp4","height":1280,"width":720,"videoDuration":26.6,"sizeInMB":6},"order":1,"stateFlag":0,"startDate":"2021-08-10T08:17:47.001Z","name":"Bienvenu - Fermé","creationDate":"2021-08-10T08:18:10.583Z","modificationDate":"2022-11-28T10:30:38.815Z","videos":[{"videoId":"8a855b44-bb80-41ad-ab63-2c4bc3b60f11","_id":"8a855b44-bb80-41ad-ab63-2c4bc3b60f11","type":1,"url":"https://video-compression-pipeline-source-czz220hqvww8.s3-eu-west-1.amazonaws.com/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","s3Path":"s3://video-compression-pipeline-source-czz220hqvww8/df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","key":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d/c11ca66a-5b59-49cf-8937-3b9eaa5c2ec0/kevin___ecn__encoded_.mp4","fileName":"kevin___ecn__encoded_.mp4","height":1280,"width":720,"videoDuration":26.6,"sizeInMB":6,"siteId":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d","creationDate":"2022-11-28T10:30:38.747Z","modificationDate":"2022-11-28T10:30:38.747Z"}]}]'),site:JSON.parse('{"integration":"shopify","_id":"df6807bf-e10d-40c2-80c9-175e8f0dfd7d","websiteUrl":"https://www.thefootballmarket.com","currency":"EUR","isPaying":false}'),playerUrl:JSON.parse('"https://player.vidjet.io"'),backendUrl:JSON.parse('"https://app-api.vidjet.io"')},a=!1,d=!1,r=window.location.search,s=new URLSearchParams(r),c=Boolean(_getCookie("vidjet-preview")),l=_getCookie("vidjet-campaignId");a=c;var m=!1,p=!1,f={},u=!1,v=120;const g={width:40,height:40};let h=0,y=0;var _={landing:0,exit:1,scroll:2,delay:3},b={mobile:0,desktop:1};var w,j=[{integration:"shopify",cookieName:"cart"},{integration:"woocommerce",cookieName:"vidjet_woo_cart_id"},{integration:"wix",cookieName:"vidjet_wix_cart_id"}].find((e=>e.integration===o.site.integration));if(!(w=o.site,0===Object.keys(w).length&&w.constructor===Object||o.site.integration)){_makeRequest("/website/integrate",{siteId:o.site&&o.site._id,integrationDate:(new Date).toISOString(),integration:"manual",websiteUrl:window.location.protocol+"//"+window.location.hostname},o.backendUrl)}if(function(){const e=_getCookie("vidjet-sessionId");_setCookie("vidjet-sessionId",i=e||function(e,t,i){var n=(e=e||{}).random||(e.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return stringify(n)}(),1)}(),function(){const e=document.getElementsByClassName("vidjet-embed-iframe"),t={action:"getSessionId",data:{sessionId:i}};for(const i of e)i&&i.contentWindow&&i.contentWindow.postMessage(t,"*");window.addEventListener("message",(e=>{"vidjet"===e.data.messageOrigin&&_reactToPlayerEvent(e,!1)}),!1),document.querySelector("vidjet-carousel-wrapper")&&_bindScrollEvent()}(),_sendSharableUrl(),_sendEvent("pageView"),function(){let e=document.querySelector("style[data-vidjet]");if(e)return e.remove();{const e="<style data-vidjet>\n        .vidjet-hidden {display:none !important;}\n        .vidjet-popup {width: 100vw !important; height: 100vh !important;}\n        .vidjet-stickyBar {\n          width: 31px;\n          z-index: 87423664732678;\n          position: fixed;\n          bottom: 20px;\n          left: 0;\n          height: 34px;\n          background-color: #7660FF;\n          border-radius: 0px 100px 100px 0px;\n          overflow: hidden;\n          cursor: pointer;\n        }\n        .vidjet-stickyBar:hover{\n          width: auto;\n          height: 38px;\n        }\n      </style>";document.head.insertAdjacentHTML("beforeend",e)}}(),j){const e=_getCookie(j.cookieName);e&&e!==_getCookie("vidjet_cart_id")&&(_setCookie("vidjet_cart_id",e,1),_sendEvent("cartCreated"))}function _isWarmangoProductCampaign(e,t){if("383ece2b-e9a7-4e37-a0a2-5f42d0a1009b"!==e)return!1;return!["d7dfa072-fb6d-48ea-9b1d-b8bb576435bd","618bf347-b02b-43d4-9ffa-079318639735","a246fc8d-fd05-4f2e-886b-fac3065d89bd"].includes(t)}function _setIframeSize(t){let i=function(e){const{mobile:t,tablet:i,desktop:n,bigDesktop:o,giantDesktop:a}={mobile:{square:.8,portrait:.65,landscape:1},tablet:{square:.6,portrait:.3,landscape:.7},desktop:{square:.35,portrait:.25,landscape:.5},bigDesktop:{square:.3,portrait:.2,landscape:.4},giantDesktop:{square:.25,portrait:.2,landscape:.3}},d=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),r=function({height:e,width:t}){return e/t>.9&&e/t<1.2?"square":e>t?"portrait":"landscape"}(e);switch(!0){case d<=480:return d*t[r];case d<=768:return d*i[r];case d<=1024:return d*n[r];case d<=1680:return d*o[r];default:return d*a[r]}}(t);const o=e.hideBubble||n?0:v||120,{width:a,height:d}=t;return iframeHeight=d/(a/(i-20))+40+o,{iframeWidth:i,iframeHeight:iframeHeight}}function _limitOffset(e){const{height:t,width:i}=f;if(0===e.moveX&&0===e.moveY)return{offsetX:0,offsetY:0};const{iframeWidth:n,iframeHeight:o}=_setIframeSize({width:i,height:t}),a=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),d=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);let{moveX:r,moveY:s}=e;const c=s+o,l=r+n;return c>a&&(s-=c-a),l>d&&(r-=l-d),{offsetX:r,offsetY:s}}function _addElement(t,i,n,o,a,d){if(e.isStickyBar)return _sendEvent("display"),function(t,i,n,o,a,d){const r=document.createElement("div"),{backgroundColor:s,textColor:c,text:l}=e.stickyBarOptions,{moveY:m}=o;r.classList.add("vidjet-stickyBar"),r.id="vidjet-stickybar",r.style["background-color"]=s,m&&(r.style.bottom=`${m||20}px`),r.innerHTML=`\n      <div style="height: 100%;display: flex;">\n        <div id="vidjet-stickybar-open-video" style="align-items: center; display: flex;">\n          <img height="16" width="16" src="https://vidjetvideostorage.s3.eu-west-1.amazonaws.com/Play+Icon+2.0+SVG.svg" style="margin-left: 6px;">\n          <span style="font-size: 14px;font-weight: 600;color: ${c};margin-left: 9px;line-height: 14px;margin-right: 4px;font-family: "Gothic A1", sans-serif;>${l}</span>\n        </div>\n        <div id="vidjet-stickybar-close" style="align-items: center; display: flex;">\n          <img height="18" width="18" src="https://vidjetvideostorage.s3.eu-west-1.amazonaws.com/Close+icon+Sticky+Play+Button.svg" style="margin-left: 8px;margin-right: 7px;">\n        </div>\n      </div>\n    `,document.body.appendChild(r),document.getElementById("vidjet-stickybar-open-video").addEventListener("click",(function(){r.classList.add("vidjet-hidden"),_addIframe(t,i,n,o,a,d)})),document.getElementById("vidjet-stickybar-close").addEventListener("click",(function(){r.classList.add("vidjet-hidden")}))}(t,i,n,o,a,d);_addIframe(t,i,n,o,a,d)}function _addIframe(e,t,a,d,r,s){const{campaignType:c}=e||{},{offsetX:l,offsetY:m}=_limitOffset(d);if(!document.querySelectorAll(".vidjet-iframe").length){let e=document.createElement("iframe");var p=`${o.playerUrl}/${t}/${a}`,u=new URL(p);const d="popup"===c;if(u.searchParams.set("sessionId",i),u.searchParams.set("device",n?"mobile":"desktop"),e.classList.add("vidjet-iframe"),e.title="Vidjet video player",e.allow="clipboard-read; clipboard-write; fullscreen",e.style.border="none",e.style.position="fixed",e.style.bottom=m&&!d?`${m}px`:0,e.style.display="block","right"!==c||d?("left"!==c||d)&&d?e.classList.add("vidjet-popup"):e.style.left=l?`${l}px`:0:e.style.right=l?`${l}px`:0,e.style.zIndex="4815162342","3b552290-2fcf-4b40-84bb-eb6c0118d821"===t&&(e.style.zIndex="2147483646"),e.src=u.toString(),!d)if(v=s||120,r){const{iframeWidth:t,iframeHeight:i}=_setIframeSize(f);e.style.width=`${t}px`,e.style.height=`${i}px`}else e.style.width=`${v+g.width}px`,e.style.height=`${v+g.height}px`;if(_isWarmangoProductCampaign(t,a))return e.style.position="absolute",document.getElementsByClassName("media-viewer__image-link")[0].style.position="relative",void document.getElementsByClassName("media-viewer__image-link")[0].appendChild(e);document.body.appendChild(e)}}function _handleAddToCartEvent(e){if("shopify"===o.site.integration)!function(e){let t={items:[{id:e.variantId,qty:e.qty||1}]};fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}(e)}async function _getCartItems(){if("shopify"===o.site.integration){return(await async function(){const e=await fetch("/cart.json");if(200===e.status)return e.json();console.log(`Failed to get request, Shopify returned ${e.status} ${e.statusText}`)}()).items.map((e=>({productId:e.id,variantId:e.variant_id,quantity:e.quantity})))}}function _reactToPlayerEvent(i,n){const{origin:a,properties:d}=i&&i.data,r=v||120,s=document.querySelector(".vidjet-iframe")||document.querySelector(".vidjet-embed-iframe");if(s)if(n||"closeMainPlayer"!==a)if(n||"openMainPlayer"!==a){if("destroyIframe"===a)setTimeout((()=>{_destroyIframe(),e.isStickyBar&&document.getElementById("vidjet-stickybar")&&document.getElementById("vidjet-stickybar").classList.remove("vidjet-hidden")}),500);else if("getCartItems"===a)!async function(){const e=[document.querySelector(".vidjet-iframe"),...document.querySelectorAll(".vidjet-embed-iframe")],t={action:"sendCartItems",data:await _getCartItems()},i=e.filter((e=>e));i.length>0&&i.forEach((e=>{e.contentWindow.postMessage(t,"*")}))}();else if("addToCart"===a)_handleAddToCartEvent(d);else if("getSharableUrl"===a)_sendSharableUrl();else if("openFullScreen"===a)!function(e){const t=".vidjet-fullscreen { position: fixed !important; height: 100% !important; width: 100% !important; z-index: 2147483647; top: 0; right: 0; bottom: 0px; left: 0px;} ",i=document.createElement("style");i.innerText=t,document.head.appendChild(i);const n=_targetCarousel(e);Array.from(n.classList).includes("vidjet-fullscreen")||n.parentElement.classList.add("vidjet-fullscreen")}(d),_limitScrollForFullscreen();else if("closeFullScreen"===a)!function(){const e=document.querySelector(".vidjet-fullscreen");document.querySelector("body").classList.remove("vidjet-body"),e&&e.classList.remove("vidjet-fullscreen");window.scrollTo(0,y)}();else if("carouselHeight"===a){const e=_targetCarousel(d.campaignId);e.parentElement.style.height=`calc(${d.carouselHeight}px + 32px)`,e.parentElement.style.paddingBottom="0"}}else if(u=!0,e.isFullScreen)s.style.height="100%",s.style.width="100%",s.style.bottom="0px",s.style.right="0px",s.style.left="0px",s.classList.add("vidjet-fullscreen"),_limitScrollForFullscreen();else{if(_isWarmangoProductCampaign(o.site._id,t._id))return s.style.width="auto",void(s.style.height="100%");const{iframeWidth:e,iframeHeight:i}=_setIframeSize(f);s.style.width=`${e}px`,s.style.height=`${i}px`}else u=!1,setTimeout((()=>{s.style.width=`${r+g.width}px`,s.style.height=`${r+g.height}px`}),500),e.isFullScreen&&(window.scrollTo(0,y),document.querySelector("body").classList.remove("vidjet-body"),s.classList.remove("vidjet-fullscreen"),s.style.bottom=e.moveY?`${e.moveY}px`:0,s.style.display="block",1===e.position?(s.style.left="unset",s.style.right=e.moveX?`${e.moveX}px`:0):0===e.position&&(s.style.right="unset",s.style.left=e.moveX?`${e.moveX}px`:0))}function _targetCarousel(e){let t=document.querySelectorAll(".vidjet-embed-iframe");t=Array.prototype.slice.call(t);let i=null;return i=1===t.length?t[0]:t.find((t=>t.dataset.vidjetCampaignId===e||(t.dataset&&t.dataset.src&&t.dataset.src.value.includes("vidjet.io")?t.dataset.src.value.includes(e):t.attributes.src.value.includes(e)))),i}function _limitScrollForFullscreen(){if("object"!=typeof Array.from(document.head.querySelectorAll("style")).find((e=>"vidjet-body-style"===e.id))){const e=".vidjet-body { overflow: hidden; height: 100%; position: fixed;} .vidjet-body *:not(.vidjet-fullscreen) {z-index: unset !important} ",t=document.createElement("style");t.setAttribute("id","vidjet-body-style"),t.innerText=e,document.head.appendChild(t)}document.querySelector("body").classList.add("vidjet-body"),y=h,window.scrollTo(0,1)}function _decryptParams(e){let t={};return 0===e?.formatType?t.campaignType="popup":1===e?.formatType&&(0===e?.position&&(t.campaignType="left"),1===e?.position&&(t.campaignType="right")),e?.isFullScreen&&(t.isFullScreen="fullscreen"),t}function _setCookie(e,t,i){var n="";if(i){var o=new Date;o.setTime(o.getTime()+60*i*60*1e3),n="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}function _displayLaunchPopup(e){return vidjetDisplayLaunchPopup(e)}function _getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function _displayIframeBasedOnTrigger(i){if(d)return;d=!0;const{landing:o,exit:r,scroll:s,delay:c}=_;t=Object.assign({},i);const{siteId:l,_id:v}=i;1===i.videos.length&&(f={width:i.videos[0].width,height:i.videos[0].height},u=e.openByDefault);const{moveX:g,moveY:h,bubbleSize:y}=e||{},b={siteId:l,_id:v,videoOriginalSize:f,moveX:g,moveY:h,isPlayerOpen:u,bubbleSize:y};!function(){const e=_getCookie(`vidjet_view_${t._id}`),i=e?parseInt(e)+1:1;_setCookie(`vidjet_view_${t._id}`,i,t.segmentation.viewRestriction.notShownTime+1),i>=t.segmentation.viewRestriction.maxView&&(_setCookie(`vidjet_timing_${t._id}`,new Date((new Date).getTime()+1e3*t.segmentation.viewRestriction.notShownTime*3600).toISOString(),t.segmentation.viewRestriction.notShownTime+1),_deleteCookie(`vidjet_view_${t._id}`))}(),i.segmentation.trigger.type===o||a?_addElement(_decryptParams(e),l,v,{moveX:g,moveY:h},u,y):i.segmentation.trigger.type===r?(document.addEventListener("mouseout",(e=>{_onExitIntent(e,b)})),n&&document.addEventListener("scroll",(e=>{_onExitIntent(e,b)}))):i.segmentation.trigger.type===s?window.addEventListener("scroll",(function(t){m||(window.requestAnimationFrame((function(){!function(t,i){let n=document.documentElement,o=document.body,a="scrollTop",d="scrollHeight",r=(n[a]||o[a])/((n[d]||o[d])-n.clientHeight)*100;const{siteId:s,_id:c,moveX:l,moveY:m,isPlayerOpen:f,bubbleSize:u}=i;r>=t.segmentation.trigger.option&&!p&&(_addElement(_decryptParams(e),s,c,{moveX:l,moveY:m},f,u),p=!0)}(i,b),m=!1})),m=!0)}),!0):i.segmentation.trigger.type===c&&setTimeout((()=>{_addElement(_decryptParams(e),l,v,{moveX:g,moveY:h},u,y)}),1e3*(i.segmentation.trigger.option||10))}let x=0;const _onExitIntent=(t,i)=>{const{siteId:n,_id:o,moveX:a,moveY:d,isPlayerOpen:r,bubbleSize:s}=i;if(t.clientY<50&&null==t.relatedTarget&&"select"!==t.target.nodeName.toLowerCase())document.removeEventListener("mouseout",(e=>{console.log(e,"removed")})),_addElement(_decryptParams(e),n,o,{moveX:a,moveY:d},r,s);else if("scroll"==t.type){let t=window.pageYOffset||document.documentElement.scrollTop;t+50<x&&(document.removeEventListener("scroll",(e=>{console.log(e,"removed")})),_addElement(_decryptParams(e),n,o,{moveX:a,moveY:d},r,s)),x=t<=0?0:t}};function _deleteCookie(e){document.cookie=e+"=; Max-Age=-99999999;"}function _destroyIframe(){if(document.querySelector(".vidjet-iframe")){return document.querySelector(".vidjet-iframe").remove()}}function _makeRequest(e,t,i){var n=new XMLHttpRequest,o=i+e;n.onreadystatechange=function(){if(4===this.readyState)return 200===this.status?JSON.parse(this.responseText.trim()):console.log((new Date).toISOString(),"AJAX ERROR for [",o,"]:",this.status,"with message [",this.statusText,"]")},n.open("POST",o,!0),n.timeout=5e3,n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t))}function _sendSharableUrl(){const e=[document.querySelector(".vidjet-iframe"),...document.querySelectorAll(".vidjet-embed-iframe")],t={action:"getSharableUrl",data:{url:location.href}},i=e.filter((e=>e));i.length>0&&i.forEach((e=>{e.contentWindow.postMessage(t,"*")}))}function _sendEvent(e,d){if(a)return;const r={siteId:o.site._id,campaignId:t&&t._id,sessionId:i,type:e,date:(new Date).toISOString(),device:n?"mobile":"desktop",params:d};if("cartCreated"===e){const e=_getCookie("vidjet_cart_id");e&&(r.cartId=e)}_makeRequest("/track-event",r,o.backendUrl)}function _compareUrl(e){return"eq"===e.comparison&&e.string===document.location.href||("not_eq"===e.comparison&&e.string!==document.location.href||(!("contains"!==e.comparison||!document.location.href.includes(e.string))||"not_contains"===e.comparison&&!document.location.href.includes(e.string)))}function _matchUrlSegmentation(e,t){for(const i of e){if(!i.type&&!t)return _compareUrl(i);if(i.type){let e=_matchUrlSegmentation(i.filters,i.type);if(!t)return e;if("or"===t&&e)return!0;if("and"===t&&!e)return!1}else{let e=_compareUrl(i);if("or"===t&&e)return!0;if("and"===t&&!e)return!1}}return"or"!==t}function _matchSegmentation(t,i=!1){if(e=n?t.formats.find((e=>e.deviceType===b.mobile)):t.formats.find((e=>e.deviceType===b.desktop)),i)return!0;if(!e)return!1;if(!a){const e=_getCookie(`vidjet_timing_${t._id}`);if(e&&(new Date).getTime()<new Date(e).getTime())return!1;e&&_deleteCookie(`vidjet_timing_${t._id}`)}return!!t.segmentation&&(!t.segmentation.url||!t.segmentation.url.length||_matchUrlSegmentation(t.segmentation.url))}function _addResizeListener(){let t;window.addEventListener("resize",(function(i){clearTimeout(t),t=setTimeout((function(){!function(){if("popup"===_decryptParams(e).campaignType)return;let{iframeWidth:t,iframeHeight:i}=_setIframeSize(f);const n={moveX:e.moveX,moveY:e.moveY},{offsetX:o,offsetY:a}=_limitOffset(n);u?_resizeIframe(t,i,o,a):_resizeIframe(v+g.width,v+g.height,o,a)}()}),250)}),!0)}const _bindScrollEvent=()=>{window.addEventListener("scroll",(e=>{window.requestAnimationFrame((()=>{let e=document.documentElement,t=document.body,i="scrollTop";h=e[i]||t[i]}))}),!0)};function _resizeIframe(t,i,n,o){const a=document.querySelector(".vidjet-iframe");if(a){const{campaignType:d}=_decryptParams(e),r="popup"===d;"right"!==d||r?"left"!==d||r||(a.style.left=n?`${n}px`:0):a.style.right=n?`${n}px`:0,a.style.bottom=o&&!r?`${o}px`:0,a&&(a.style.width=`${t}px`,a.style.height=`${i}px`)}}function _attachIframeEventsAndResizeListener(){const{campaignType:t,isFullScreen:i}=_decryptParams(e);window.addEventListener("message",(e=>{"vidjet"===e.data.messageOrigin&&_reactToPlayerEvent(e,"popup"===t)}),!1),i&&_bindScrollEvent(),!i&&_addResizeListener()}return{init:function(){!function(){if("1f3f4a1f-b5cf-41c9-8906-be1aeebde3e1"===o.site._id){const i=[{url:"https://elifexir.com/ritual-fit",campaignId:"707e9af6-fc42-47e5-9c29-509b79964d0c"},{url:"https://elifexir.com/vientre-plano",campaignId:"24189915-94f1-44de-8bdf-3f1cccfba7f5"},{url:"https://elifexir.com/fitness",campaignId:"75ce73a6-65cb-48db-bbc5-0d8ee2d57401"},{url:"https://elifexir.com/senobell",campaignId:"2e81e940-04f9-47db-856a-ade310749dc6"}];for(const n of i)if(document.location.href.includes(n.url)){var e=1,t=setInterval((function(){var i=document.getElementsByClassName("woocommerce-product-gallery__image")&&document.getElementsByClassName("woocommerce-product-gallery__image")[2];i&&(i.innerHTML=`\n              <div class="vidjet-video-wrapper" style="padding-bottom: 100%;position: relative;overflow: auto;width: 56.25%;margin: 0px auto;">\n                <iframe class="vidjet-embed-iframe" src="https://player.vidjet.io/1f3f4a1f-b5cf-41c9-8906-be1aeebde3e1/${n.campaignId}" \n                  style=" position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px; " \n                  allow="clipboard-read; clipboard-write; fullscreen" frameborder="0"></iframe>\n              </div>`,clearInterval(t)),(e+=1)>=20&&clearInterval(t)}),100);break}}else if("15701a38-dae7-47d3-9881-cddf540b11a2"===o.site._id){const i=[{url:"https://atashicellular.com/antioxidante/587-tonico-regenerante-purificante.html",campaignId:"6c9e1a3b-f851-4d81-a280-162a175ad732"}];for(const n of i)if(document.location.href.includes(n.url)){e=1,t=setInterval((function(){var i=document.getElementsByClassName("product-lmage-large swiper-slide")&&document.getElementsByClassName("product-lmage-large swiper-slide")[2];i&&(i.innerHTML=`\n              <div class="vidjet-video-wrapper" style="padding-bottom: 100%;position: relative;overflow: auto;width: 100%;margin: 0px auto;">\n                <iframe class="vidjet-embed-iframe" src="https://player.vidjet.io/15701a38-dae7-47d3-9881-cddf540b11a2/${n.campaignId}" \n                  style=" position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px; " \n                  allow="clipboard-read; clipboard-write; fullscreen" frameborder="0"></iframe>\n              </div>`,clearInterval(t)),(e+=1)>=20&&clearInterval(t)}),100);break}}}(),o.site.isLocked&&function(){const e=[...document.querySelectorAll(".vidjet-video-wrapper"),...document.querySelectorAll(".vidjet-carousel-wrapper")];for(const t of e)t.remove()}(),function(){const e="video-preview"===(s.has("vidjet")&&s.get("vidjet"))&&s.has("campaignId"),{isLocked:t}=o.site,i=o.campaignsActivated.length;if(e){const e=o.campaignsPaused.find((e=>e._id===s.get("campaignId")));e?(a=!0,!n&&_displayLaunchPopup(e._id),_matchSegmentation(e,!0)&&_displayIframeBasedOnTrigger(e),_setCookie("vidjet-preview",!0,1),_setCookie("vidjet-campaignId",s.get("campaignId"),1)):(_deleteCookie("vidjet-preview"),_deleteCookie("vidjet-campaignId"))}else if(c){const e=o.campaignsPaused.find((e=>e._id===l));e?(!n&&_displayLaunchPopup(e._id),_matchSegmentation(e,!0)&&_displayIframeBasedOnTrigger(e)):(_deleteCookie("vidjet-preview"),_deleteCookie("vidjet-campaignId"))}else{if(t||!i)return;for(const e of o.campaignsActivated)if(_matchSegmentation(e)){_displayIframeBasedOnTrigger(e);break}}}(),_attachIframeEventsAndResizeListener()},showCampaign:function(t,i){const a=o.campaignsActivated.find((e=>e._id==t));if(!a)return console.error(`Invalid campaign id for ${t}`);if(e=n?a.formats.find((e=>e.deviceType===b.mobile)):a.formats.find((e=>e.deviceType===b.desktop)),i)_destroyIframe(),d=!1,m=!1,p=!1,_displayIframeBasedOnTrigger(a),_attachIframeEventsAndResizeListener();else{if(document.querySelectorAll(".vidjet-iframe").length)return console.warn('Campaign already running. To show this video, pass "true" as the second parameter to force show.');d=!1,m=!1,p=!1,_displayIframeBasedOnTrigger(a),_attachIframeEventsAndResizeListener()}},initSpa:function(){const e=this;let t=location.href;setInterval((function(){t!=location.href&&(console.log("VIDJET: page change detected"),_destroyIframe(),d=!1,m=!1,p=!1,e.init(),t=location.href)}),500)},send:function(e,t){return"conversion"===e||"order"===e?_sendEvent(e,t):console.warn(`The '${e}' type is not supported. Please use a valid event type.`)}}}();document&&("complete"===document.readyState||(document.location.href.includes("https://elifexir.com")||document.location.href.includes("https://atashicellular.com"))&&"interactive"===document.readyState)?(console.log("VIDJET: document loaded"),Vidjet.init()):window.addEventListener("load",(e=>{console.log("VIDJET: window loaded"),Vidjet.init()}));